<!doctype html>
<html>
  <head>
    <title>Universal Web Scraper</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1>Universal Web Scraper</h1>

    <div class="tabs">
      <div class="tab active" data-tab="setup">Setup</div>
      <div class="tab" data-tab="fields">Fields</div>
      <div class="tab" data-tab="advanced">Advanced</div>
    </div>

    <!-- TAB 1: SETUP -->
    <div id="tab-setup" class="tab-content">
      <div class="form-group">
        <label for="url">Target URL</label>
        <input type="text" id="url" placeholder="https://example.com" />
        <button
          id="use-current-tab"
          class="secondary"
          style="margin-top: 5px; font-size: 11px; padding: 5px"
        >
          üìç Use Current Tab URL
        </button>
      </div>

      <div class="form-group">
        <label>Mode</label>
        <div style="display: flex; gap: 10px">
          <label style="font-weight: normal; font-size: 12px">
            <input type="radio" name="mode" value="auto" checked />
            Auto-Discover
          </label>
          <label style="font-weight: normal; font-size: 12px">
            <input type="radio" name="mode" value="manual" /> Manual Selectors
          </label>
        </div>
      </div>

      <button id="start-btn">üöÄ Start Scraping</button>
    </div>

    <!-- TAB 2: FIELDS -->
    <div id="tab-fields" class="tab-content hidden">
      <p class="manual-only" style="font-size: 12px; color: #666">
        Manual Mode Only
      </p>

      <div id="fields-container">
        <!-- Dynamic fields go here -->
      </div>

      <button id="add-field-btn" class="secondary" style="margin-top: 10px">
        + Add Field
      </button>
      <button id="detect-btn" class="secondary" style="margin-top: 5px">
        üîç Auto-Detect Fields
      </button>
    </div>

    <!-- TAB 3: ADVANCED -->
    <div id="tab-advanced" class="tab-content hidden">
      <div class="form-group">
        <label>Browser Options</label>
        <label style="font-weight: normal"
          ><input type="checkbox" id="use_selenium" /> Use Selenium (Headless
          Chrome)</label
        >
        <label style="font-weight: normal"
          ><input type="checkbox" id="use_tor" /> Use Tor Network</label
        >
        <label style="font-weight: normal"
          ><input type="checkbox" id="infinite_scroll" /> Infinite Scroll</label
        >
      </div>

      <div class="form-group">
        <label for="max_pages">Pages to Scrape</label>
        <input type="number" id="max_pages" value="1" min="1" />
        <label style="font-weight: normal; margin-top: 5px"
          ><input type="checkbox" id="scrape_all" /> Scrape All Pages</label
        >
      </div>

      <div class="form-group">
        <label for="next_selector">Next Button Selector</label>
        <input type="text" id="next_selector" placeholder="a.next" />
      </div>
    </div>

    <!-- STATUS AREA -->
    <div id="status-area" class="hidden">
      <div id="status-text">Ready</div>
      <div
        id="progress-bar"
        style="
          width: 100%;
          background: #ddd;
          height: 5px;
          margin-top: 5px;
          border-radius: 2px;
        "
      >
        <div
          id="progress-fill"
          style="
            width: 0%;
            background: #0066cc;
            height: 100%;
            border-radius: 2px;
          "
        ></div>
      </div>
      <div id="results-actions" class="hidden" style="margin-top: 10px">
        <button id="download-json" class="secondary">Download JSON</button>
        <button id="download-csv" class="secondary">Download CSV</button>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
